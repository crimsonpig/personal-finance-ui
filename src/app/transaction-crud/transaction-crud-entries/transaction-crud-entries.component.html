<h3>{{parentCategory}}</h3>
<table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Category</th>
            <th>Amount</th>
            <th>
                <button (click)="addNewItem()">Add</button>
            </th>
        </tr>    
    </thead>
    <tbody>
        <tr *ngFor="let newTransactionItem of newTransactionItems">
            <td>
                <input [(ngModel)]="newTransactionItem.tDate">
            </td>
            <td>
                <input [(ngModel)]="newTransactionItem.category">
            </td>
            <td>
                <input [(ngModel)]="newTransactionItem.amount">
            </td>
            <td>
                <button (click)="saveNewItem(newTransactionItem)">Save</button>
                <button (click)="removeNewItem(newTransactionItem)">Cancel</button>
            </td>
        </tr>
        <tr *ngFor="let transactionItem of transactionItems">
            <td>{{transactionItem.tDate}}</td>
            <td>{{transactionItem.category | uppercase}}</td>
            <td>{{transactionItem.amount | number:'1.2-2'}}</td>
            <td>
                <button>x</button>
            </td>
        </tr>
    </tbody>
</table>
<mat-table #table [dataSource]="dataSource" matSort matSortActive="tDate" matSortDirection="desc" matSortDisableClear>

	<ng-container matColumnDef="tDate">
		<mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
		<mat-cell *matCellDef="let transactionItem">{{transactionItem.tDate}}</mat-cell>
	</ng-container>
	
    <ng-container matColumnDef="category">
		<mat-header-cell *matHeaderCellDef mat-sort-header>Category</mat-header-cell>
		<mat-cell *matCellDef="let transactionItem">{{transactionItem.category | uppercase}}</mat-cell>
	</ng-container>

	<ng-container matColumnDef="amount">
		<mat-header-cell *matHeaderCellDef mat-sort-header>Amount</mat-header-cell>
		<mat-cell *matCellDef="let transactionItem">{{transactionItem.amount | number:'1.2-2'}}</mat-cell>
	</ng-container>

    <ng-container matColumnDef="remove">
        <mat-header-cell *matHeaderCellDef> Remove </mat-header-cell>
        <mat-cell *matCellDef="let transactionItem">
            <button (click)="removeExistingItem(transactionItem)">x</button>
        </mat-cell>
    </ng-container>

	<mat-header-row *matHeaderRowDef="tableColumns"></mat-header-row>
	<mat-row *matRowDef="let row; columns: tableColumns;"></mat-row>    
</mat-table>
